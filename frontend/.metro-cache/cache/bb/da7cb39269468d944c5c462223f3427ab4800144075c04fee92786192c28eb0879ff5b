{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":31,"index":191}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          const response = await api.default.get('/api/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('auth_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await api.default.post('/api/auth/login', {\n        email,\n        password\n      });\n      await AsyncStorage.default.setItem('auth_token', response.data.access_token);\n      const userResponse = await api.default.get('/api/auth/me');\n      setUser(userResponse.data);\n    };\n    const signup = async (email, password, username) => {\n      const response = await api.default.post('/api/auth/signup', {\n        email,\n        password,\n        username\n      });\n      await AsyncStorage.default.setItem('auth_token', response.data.access_token);\n      const userResponse = await api.default.get('/api/auth/me');\n      setUser(userResponse.data);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/api/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":98,"map":[[13,2,17,0,"exports"],[13,9,17,0],[13,10,17,0,"AuthProvider"],[13,22,17,0],[13,25,17,0,"AuthProvider"],[13,37,17,0],[14,2,75,0,"exports"],[14,9,75,0],[14,10,75,0,"useAuth"],[14,17,75,0],[14,20,75,0,"useAuth"],[14,27,75,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_utilsApi"],[18,15,3,0],[18,18,3,0,"require"],[18,25,3,0],[18,26,3,0,"_dependencyMap"],[18,40,3,0],[19,2,3,0],[19,6,3,0,"api"],[19,9,3,0],[19,12,3,0,"_interopDefault"],[19,27,3,0],[19,28,3,0,"_utilsApi"],[19,37,3,0],[20,2,3,31],[20,6,3,31,"_reactJsxDevRuntime"],[20,25,3,31],[20,28,3,31,"require"],[20,35,3,31],[20,36,3,31,"_dependencyMap"],[20,50,3,31],[21,2,15,0],[21,8,15,6,"AuthContext"],[21,19,15,17],[21,35,15,20],[21,39,15,20,"createContext"],[21,45,15,33],[21,46,15,33,"createContext"],[21,59,15,33],[21,61,15,63,"undefined"],[21,70,15,72],[21,71,15,73],[22,2,17,7],[22,11,17,16,"AuthProvider"],[22,23,17,28,"AuthProvider"],[22,24,17,29],[23,4,17,31,"children"],[24,2,17,65],[24,3,17,66],[24,5,17,68],[25,4,18,2],[25,10,18,8],[25,11,18,9,"user"],[25,15,18,13],[25,17,18,15,"setUser"],[25,24,18,22],[25,25,18,23],[25,28,18,26],[25,32,18,26,"useState"],[25,38,18,34],[25,39,18,34,"useState"],[25,47,18,34],[25,49,18,48],[25,53,18,52],[25,54,18,53],[26,4,19,2],[26,10,19,8],[26,11,19,9,"loading"],[26,18,19,16],[26,20,19,18,"setLoading"],[26,30,19,28],[26,31,19,29],[26,34,19,32],[26,38,19,32,"useState"],[26,44,19,40],[26,45,19,40,"useState"],[26,53,19,40],[26,55,19,41],[26,59,19,45],[26,60,19,46],[27,4,21,2],[27,8,21,2,"useEffect"],[27,14,21,11],[27,15,21,11,"useEffect"],[27,24,21,11],[27,26,21,12],[27,32,21,18],[28,6,22,4,"checkAuth"],[28,15,22,13],[28,16,22,14],[28,17,22,15],[29,4,23,2],[29,5,23,3],[29,7,23,5],[29,9,23,7],[29,10,23,8],[30,4,25,2],[30,10,25,8,"checkAuth"],[30,19,25,17],[30,22,25,20],[30,28,25,20,"checkAuth"],[30,29,25,20],[30,34,25,32],[31,6,26,4],[31,10,26,8],[32,8,27,6],[32,14,27,12,"token"],[32,19,27,17],[32,22,27,20],[32,28,27,26,"AsyncStorage"],[32,40,27,38],[32,41,27,38,"default"],[32,48,27,38],[32,49,27,39,"getItem"],[32,56,27,46],[32,57,27,47],[32,69,27,59],[32,70,27,60],[33,8,28,6],[33,12,28,10,"token"],[33,17,28,15],[33,19,28,17],[34,10,29,8],[34,16,29,14,"response"],[34,24,29,22],[34,27,29,25],[34,33,29,31,"api"],[34,36,29,34],[34,37,29,34,"default"],[34,44,29,34],[34,45,29,35,"get"],[34,48,29,38],[34,49,29,39],[34,63,29,53],[34,64,29,54],[35,10,30,8,"setUser"],[35,17,30,15],[35,18,30,16,"response"],[35,26,30,24],[35,27,30,25,"data"],[35,31,30,29],[35,32,30,30],[36,8,31,6],[37,6,32,4],[37,7,32,5],[37,8,32,6],[37,15,32,13,"error"],[37,20,32,18],[37,22,32,20],[38,8,33,6,"console"],[38,15,33,13],[38,16,33,14,"error"],[38,21,33,19],[38,22,33,20],[38,42,33,40],[38,44,33,42,"error"],[38,49,33,47],[38,50,33,48],[39,8,34,6],[39,14,34,12,"AsyncStorage"],[39,26,34,24],[39,27,34,24,"default"],[39,34,34,24],[39,35,34,25,"removeItem"],[39,45,34,35],[39,46,34,36],[39,58,34,48],[39,59,34,49],[40,6,35,4],[40,7,35,5],[40,16,35,14],[41,8,36,6,"setLoading"],[41,18,36,16],[41,19,36,17],[41,24,36,22],[41,25,36,23],[42,6,37,4],[43,4,38,2],[43,5,38,3],[44,4,40,2],[44,10,40,8,"login"],[44,15,40,13],[44,18,40,16],[44,24,40,16,"login"],[44,25,40,23,"email"],[44,30,40,36],[44,32,40,38,"password"],[44,40,40,54],[44,45,40,59],[45,6,41,4],[45,12,41,10,"response"],[45,20,41,18],[45,23,41,21],[45,29,41,27,"api"],[45,32,41,30],[45,33,41,30,"default"],[45,40,41,30],[45,41,41,31,"post"],[45,45,41,35],[45,46,41,36],[45,63,41,53],[45,65,41,55],[46,8,41,57,"email"],[46,13,41,62],[47,8,41,64,"password"],[48,6,41,73],[48,7,41,74],[48,8,41,75],[49,6,42,4],[49,12,42,10,"AsyncStorage"],[49,24,42,22],[49,25,42,22,"default"],[49,32,42,22],[49,33,42,23,"setItem"],[49,40,42,30],[49,41,42,31],[49,53,42,43],[49,55,42,45,"response"],[49,63,42,53],[49,64,42,54,"data"],[49,68,42,58],[49,69,42,59,"access_token"],[49,81,42,71],[49,82,42,72],[50,6,43,4],[50,12,43,10,"userResponse"],[50,24,43,22],[50,27,43,25],[50,33,43,31,"api"],[50,36,43,34],[50,37,43,34,"default"],[50,44,43,34],[50,45,43,35,"get"],[50,48,43,38],[50,49,43,39],[50,63,43,53],[50,64,43,54],[51,6,44,4,"setUser"],[51,13,44,11],[51,14,44,12,"userResponse"],[51,26,44,24],[51,27,44,25,"data"],[51,31,44,29],[51,32,44,30],[52,4,45,2],[52,5,45,3],[53,4,47,2],[53,10,47,8,"signup"],[53,16,47,14],[53,19,47,17],[53,25,47,17,"signup"],[53,26,47,24,"email"],[53,31,47,37],[53,33,47,39,"password"],[53,41,47,55],[53,43,47,57,"username"],[53,51,47,73],[53,56,47,78],[54,6,48,4],[54,12,48,10,"response"],[54,20,48,18],[54,23,48,21],[54,29,48,27,"api"],[54,32,48,30],[54,33,48,30,"default"],[54,40,48,30],[54,41,48,31,"post"],[54,45,48,35],[54,46,48,36],[54,64,48,54],[54,66,48,56],[55,8,48,58,"email"],[55,13,48,63],[56,8,48,65,"password"],[56,16,48,73],[57,8,48,75,"username"],[58,6,48,84],[58,7,48,85],[58,8,48,86],[59,6,49,4],[59,12,49,10,"AsyncStorage"],[59,24,49,22],[59,25,49,22,"default"],[59,32,49,22],[59,33,49,23,"setItem"],[59,40,49,30],[59,41,49,31],[59,53,49,43],[59,55,49,45,"response"],[59,63,49,53],[59,64,49,54,"data"],[59,68,49,58],[59,69,49,59,"access_token"],[59,81,49,71],[59,82,49,72],[60,6,50,4],[60,12,50,10,"userResponse"],[60,24,50,22],[60,27,50,25],[60,33,50,31,"api"],[60,36,50,34],[60,37,50,34,"default"],[60,44,50,34],[60,45,50,35,"get"],[60,48,50,38],[60,49,50,39],[60,63,50,53],[60,64,50,54],[61,6,51,4,"setUser"],[61,13,51,11],[61,14,51,12,"userResponse"],[61,26,51,24],[61,27,51,25,"data"],[61,31,51,29],[61,32,51,30],[62,4,52,2],[62,5,52,3],[63,4,54,2],[63,10,54,8,"logout"],[63,16,54,14],[63,19,54,17],[63,25,54,17,"logout"],[63,26,54,17],[63,31,54,29],[64,6,55,4],[64,12,55,10,"AsyncStorage"],[64,24,55,22],[64,25,55,22,"default"],[64,32,55,22],[64,33,55,23,"removeItem"],[64,43,55,33],[64,44,55,34],[64,56,55,46],[64,57,55,47],[65,6,56,4,"setUser"],[65,13,56,11],[65,14,56,12],[65,18,56,16],[65,19,56,17],[66,4,57,2],[66,5,57,3],[67,4,59,2],[67,10,59,8,"refreshUser"],[67,21,59,19],[67,24,59,22],[67,30,59,22,"refreshUser"],[67,31,59,22],[67,36,59,34],[68,6,60,4],[68,10,60,8],[69,8,61,6],[69,14,61,12,"response"],[69,22,61,20],[69,25,61,23],[69,31,61,29,"api"],[69,34,61,32],[69,35,61,32,"default"],[69,42,61,32],[69,43,61,33,"get"],[69,46,61,36],[69,47,61,37],[69,61,61,51],[69,62,61,52],[70,8,62,6,"setUser"],[70,15,62,13],[70,16,62,14,"response"],[70,24,62,22],[70,25,62,23,"data"],[70,29,62,27],[70,30,62,28],[71,6,63,4],[71,7,63,5],[71,8,63,6],[71,15,63,13,"error"],[71,20,63,18],[71,22,63,20],[72,8,64,6,"console"],[72,15,64,13],[72,16,64,14,"error"],[72,21,64,19],[72,22,64,20],[72,47,64,45],[72,49,64,47,"error"],[72,54,64,52],[72,55,64,53],[73,6,65,4],[74,4,66,2],[74,5,66,3],[75,4,68,2],[75,24,69,4],[75,28,69,4,"_reactJsxDevRuntime"],[75,47,69,4],[75,48,69,4,"jsxDEV"],[75,54,69,4],[75,56,69,5,"AuthContext"],[75,67,69,16],[75,68,69,17,"Provider"],[75,76,69,25],[76,6,69,26,"value"],[76,11,69,31],[76,13,69,33],[77,8,69,35,"user"],[77,12,69,39],[78,8,69,41,"loading"],[78,15,69,48],[79,8,69,50,"login"],[79,13,69,55],[80,8,69,57,"signup"],[80,14,69,63],[81,8,69,65,"logout"],[81,14,69,71],[82,8,69,73,"refreshUser"],[83,6,69,85],[83,7,69,87],[84,6,69,87,"children"],[84,14,69,87],[84,16,70,7,"children"],[85,4,70,15],[86,6,70,15,"fileName"],[86,14,70,15],[86,16,70,15,"_jsxFileName"],[86,28,70,15],[87,6,70,15,"lineNumber"],[87,16,70,15],[88,6,70,15,"columnNumber"],[88,18,70,15],[89,4,70,15],[89,11,71,26],[89,12,71,27],[90,2,73,0],[91,2,75,7],[91,11,75,16,"useAuth"],[91,18,75,23,"useAuth"],[91,19,75,23],[91,21,75,26],[92,4,76,2],[92,10,76,8,"context"],[92,17,76,15],[92,20,76,18],[92,24,76,18,"useContext"],[92,30,76,28],[92,31,76,28,"useContext"],[92,41,76,28],[92,43,76,29,"AuthContext"],[92,54,76,40],[92,55,76,41],[93,4,77,2],[93,8,77,6,"context"],[93,15,77,13],[93,20,77,18,"undefined"],[93,29,77,27],[93,31,77,29],[94,6,78,4],[94,12,78,10],[94,16,78,14,"Error"],[94,21,78,19],[94,22,78,20],[94,67,78,65],[94,68,78,66],[95,4,79,2],[96,4,80,2],[96,11,80,9,"context"],[96,18,80,16],[97,2,81,0],[98,0,81,1],[98,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;OCgB;YCI;GDE;oBEE;GFa;gBGE;GHK;iBIE;GJK;iBKE;GLG;sBME;GNO;CDO;OQE"},"hasCjsExports":false},"type":"js/module"}]}